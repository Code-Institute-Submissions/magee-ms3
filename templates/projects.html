{% extends "base.html" %}
{% block content %}

<h3 class="light-blue-text text-darken-4 center-align">All Projects</h3>

<ul class="collapsible">
    {% for project in projects %}
    <li>
        <div class="collapsible-header white-text light-blue darken-4 text-shadow">
            <div class="col s4">
                <i class="fasfa-caret-down"></i>
                <!--  hide these buttons if it's not a good user -->
                {% if project.project_status != "open" %}
                    <a href="{{ url_for('project_open', project_id=project._id ) }}" class="btn-small green accent-4">Open</a>
                {% endif %}   
                    <a href="{{ url_for('project_edit', project_id=project._id ) }}" class="btn-small light-blue lighten-1">Edit</a>
                    <a href="{{ url_for('project_close', project_id=project._id ) }}" class="btn-small grey darken-1">Close</a>
            </div>
            <div class="col s8">
                <strong> - {{ project.project_name }}</strong> : {{ project.project_due_date }}
                {% if project.project_is_urgent == "on" %}
                <i class="fas fa-exclamation-circle light-blue-text text-lighten-2 tooltipped" data-position="right"
                    data-tooltip="URGENT"></i>
                {% endif %}
                {% if project.project_status == "open" %}
                <i class="fas fa-cog fa-spin fa-3x fa-fw light-green-text text-lighten-2 tooltipped" data-position="left"
                    data-tooltip="Opened"></i>
                <strong>Opened by:</strong> {{ project.project_opened_by }}
                {% endif %}
            </div>

        </div>
        <div class="collapsible-body">
            <p>Created By: {{project.project_created_by}}  On: {{project.project_date_created}} </p>
            <strong>Category: {{ project.project_category_name }}  Status: {{ project.project_status }}</strong>
            <strong>Priority: {{ project.project_priority }}  Points: {{ project.project_points }}</strong>
            <p>{{ project.project_description }}</p>
            <p>Estimated Time Required: {{project.project_hour_estimate}} hours </p>
        </div>
    </li>
    {% endfor %}
</ul>

{% endblock %}